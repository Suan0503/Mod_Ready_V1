{% extends "layout.html" %}
{% block body %}
  <h2>查詢</h2>
  <form method="POST">
    <label>請輸入電話：</label>
    <input type="text" name="phone" value="{{ phone }}">
    <button type="submit">查詢</button>
  </form>
  <hr>
  {% if searched %}
    <h3>白名單</h3>
    {% if whiterows %}
      <table border="1" cellpadding="8" style="border-collapse:collapse;">
        <thead>
          <tr>
            {% for col in whitecols %}
              <th>{{ col }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in whiterows %}
            <tr>
              {% for col in whitecols %}
                <td>{{ row[col] }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div style="color:gray;">查無此電話於白名單。</div>
    {% endif %}

    <h3>黑名單</h3>
    {% if blackrows %}
      <table border="1" cellpadding="8" style="border-collapse:collapse;">
        <thead>
          <tr>
            {% for col in blackcols %}
              <th>{{ col }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in blackrows %}
            <tr>
              {% for col in blackcols %}
                <td>{{ row[col] }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div style="color:gray;">查無此電話於黑名單。</div>
    {% endif %}
  {% endif %}
{% endblock %}
